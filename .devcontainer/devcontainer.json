{
    "name": "Fedora DevContainer",
    "build": {
        "dockerfile": "Dockerfile",
        "args": {
            "POSTGRES_PASSWORD": "devpass"
        }
    },
    "customizations": {
        "vscode": {
            "extensions": [
                "golang.go",
                "ms-kubernetes-tools.vscode-kubernetes-tools",
                "postgresql.azuredatastudio-postgresql"
            ]
        }
    },
    "forwardPorts": [
        5432,
        8080
    ],
    "postCreateCommand": "sudo -E -u postgres bash -c 'chmod 700 $PGDATA && rm -f $PGDATA/postmaster.pid && pg_ctl start -D $PGDATA -l $PGDATA/log/postgres.log -w -t 60' && kind create cluster",
    "remoteUser": "vscode",
    "containerEnv": {
        "KIND_EXPERIMENTAL_PROVIDER": "podman",
        "PGDATA": "/var/lib/pgsql/data",
        "POSTGRES_PASSWORD": "devpass"
    }
}